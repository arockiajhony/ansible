---
  - name: show hostname
    hosts: iosswitch
    gather_facts: no
    connection: network_cli

    tasks:

        #- name: Configure top level configuration
          #cisco.ios.ios_config:
           #lines: hostname {{ inventory_hostname }}

        - name: show-outputs ### Task Show Output ####
          ios_command:
            #provider: "{{ crdentials }}"
            commands:
              - show run | i hostname
          register: output
        - name: print output
          debug:
            var: output.stdout_lines

        # - name: Save running to startup when modified
          # ios_config:
            # #provider: "{{ crdentials }}"
            # save_when: modified
			
        # - name: configurable backup path
          # ios_config:
            # #src: ios_template.j2
            # #provider: "{{ crdentials }}"
            # backup: yes
            # backup_options:
              # #filename: "{{ inventory_hostname }}"_backup.cfg
              # filename: cisco_ios_test_backup_test.cfg
              # dir_path: /ITNC_backup/
		
        - name: Create backup dir
          file:
            path: "/ITNC_backup/{{ inventory_hostname }}"
            state: directory
            recurse: yes 
